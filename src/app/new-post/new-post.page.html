<ion-header>
  <ion-toolbar>
    <ion-title>New Post</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="submit()" [disabled]="!postForm.valid" color="primary">Submit</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <label for="image-upload">
    <ion-fab-button for="image-upload" style="margin: 2em auto">
      <ion-icon name="add" style="padding: 18px; transform: scale(1.5);"></ion-icon>
    </ion-fab-button>
  </label>
  <input
    id="image-upload"  
    type="file"
    accept="image/*"
    style="display: none"
    (change)="addImage($event)" >

  <p style="text-align: center;"><i>*Must have 1-5 images</i></p>

  <br><br><br><br>

  <!--
    TODO:
    - upload image file with validation
    - image previews
      - re-order
      - remove
      - captions
    - valid form control
  -->

  <form [formGroup]="postForm">
    <ion-card>
      <ion-card-content style="padding: 10px">
        <ion-item lines="none">
          <ion-label position="floating">Title</ion-label>
          <ion-input formControlName="title" maxLength="32" required autocomplete="off"></ion-input>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-content style="padding: 10px">
        <ion-item lines="none">
          <ion-label position="floating">Location (optional)</ion-label>
          <ion-input formControlName="location" maxLength="32" autocomplete="off"></ion-input>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-content style="padding: 10px">
        <ion-item lines="none">
          <ion-label position="floating">Description (optional)</ion-label>
          <ion-textarea formControlName="description" maxLength="240" rows="5" autocomplete="off"></ion-textarea>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </form>

</ion-content>
